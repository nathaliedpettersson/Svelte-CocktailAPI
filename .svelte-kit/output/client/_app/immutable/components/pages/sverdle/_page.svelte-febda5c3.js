import{S as Se,i as Te,s as We,k as W,a as O,q as X,e as te,L as je,l as j,h as g,c as P,m as G,r as D,n as d,M,D as w,b as N,J as $,N as ve,B as R,K as q,O as Ge,P as Ne,p as x,Q as ke,u as ye,R as ae}from"../../../chunks/index-f2c3dd86.js";import{p as He}from"../../../chunks/parse-c28c2630.js";import{j as L}from"../../../chunks/singletons-9109aa86.js";const Me=(a,e={})=>{ie(e);let{colors:n=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:s=3500,force:r=.5,particleCount:l=150,particleShape:o="mix",particleSize:t=12,destroyAfterDone:c=!0,stageHeight:E=800,stageWidth:v=1600}=e;(function(i){const b=Q("style");b.dataset.neoconfetti="",b.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Y(document.head,b)})(),a.classList.add("fk9XWG_container"),a.style.setProperty("--stage-height",E+"px");let k,h=oe(l,n),_=re(a,h);function p(i,b){const T=U(H()*(Le-1)),m=o!=="rectangles"&&(o==="circles"||ze(T)),f=(A,S)=>i.style.setProperty(A,S+"");f("--x-landing-point",J(V(ne(b,90)-180),0,180,-v/2,v/2)+"px"),f("--duration-chaos",s-U(1e3*H())+"ms");const u=H()<Pe?F(H()*Xe,2):0;f("--x1",u),f("--x2",-1*u),f("--x3",u),f("--x4",F(V(J(V(ne(b,90)-180),0,180,-1,1)),4)),f("--y1",F(H()*se,4)),f("--y2",F(H()*r*(we()?1:-1),4)),f("--y3",se),f("--y4",F(De(J(V(b-180),0,180,r,-r),0),4)),f("--width",(m?t:U(4*H())+t/2)+"px"),f("--height",(m?t:U(2*H())+t)+"px");const y=T.toString(2).padStart(3,"0").split("");f("--half-rotation",y.map(A=>+A/2+"")),f("--rotation",y),f("--rotation-duration",F(H()*(Oe-le)+le)+"ms"),f("--border-radius",m?"50%":0)}for(const[i,b]of Object.entries(_))p(b,h[+i].degree);return Promise.resolve().then(()=>k=setTimeout(()=>c&&(a.innerHTML=""),s)),{update(i){var f,u,y,A,S,z,B,C,ee;ie(i);const b=(f=i.particleCount)!=null?f:l,T=(u=i.colors)!=null?u:n,m=(y=i.stageHeight)!=null?y:E;if(h=oe(b,T),b===l&&JSON.stringify(n)!==JSON.stringify(T))for(const[Ee,{color:Ae}]of Object.entries(h))_[+Ee].style.setProperty("--bgcolor",Ae);b!==l&&(a.innerHTML="",_=re(a,h)),c&&!i.destroyAfterDone&&clearTimeout(k),a.style.setProperty("--stage-height",m+"px"),n=T,s=(A=i.duration)!=null?A:s,r=(S=i.force)!=null?S:r,l=b,o=(z=i.particleShape)!=null?z:o,t=(B=i.particleSize)!=null?B:t,c=(C=i.destroyAfterDone)!=null?C:c,E=m,v=(ee=i.stageWidth)!=null?ee:v},destroy(){clearTimeout(k)}}};function re(a,e=[]){const n=[];for(const{color:s}of e){const r=Q("div");r.className="fk9XWG_particle",r.style.setProperty("--bgcolor",s);const l=Q("div");Y(r,l),Y(a,r),n.push(r)}return n}const le=200,Oe=800,Pe=.1,Xe=.3,se=.5,V=Math.abs,H=Math.random,U=Math.round,De=Math.max,Q=a=>document.createElement(a),Y=(a,e)=>a.appendChild(e),oe=(a,e)=>Array.from({length:a},(n,s)=>({color:e[s%e.length],degree:360*s/a})),F=(a,e=2)=>U((a+Number.EPSILON)*10**e)/10**e,J=(a,e,n,s,r)=>(a-e)*(r-s)/(n-e)+s,ne=(a,e)=>a+e>360?a+e-360:a+e,we=()=>H()>.5,Le=6,ze=a=>a!==1&&we(),Z=a=>a===void 0,I=(a,e)=>{if(!Z(a)&&Number.isSafeInteger(a)&&a<0)throw new Error(e+" must be a positive integer")},ie=({particleCount:a,duration:e,colors:n,particleSize:s,force:r,stageHeight:l,stageWidth:o,particleShape:t})=>{if(I(a,"particleCount"),I(e,"duration"),I(s,"particleSize"),I(r,"force"),I(l,"stageHeight"),I(o,"stageWidth"),!Z(t)&&!/^(mix|circles|rectangles)$/i.test(t))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!Z(n)&&!Array.isArray(n))throw new Error("colors must be an array of strings");if(r>1)throw new Error("force must be within 0 and 1")};L.disable_scroll_handling;L.goto;L.invalidate;const Ce=L.invalidateAll;L.preload_data;L.preload_code;L.before_navigate;L.after_navigate;const Fe=L.apply_action;function Ie(a){const e=JSON.parse(a);return e.data&&(e.data=He(e.data)),e}function Be(a,e=()=>{}){const n=async({action:r,result:l,reset:o})=>{l.type==="success"&&(o!==!1&&HTMLFormElement.prototype.reset.call(a),await Ce()),(location.origin+location.pathname===r.origin+r.pathname||l.type==="redirect"||l.type==="error")&&Fe(l)};async function s(r){var _,p,i,b,T;r.preventDefault();const l=new URL((_=r.submitter)!=null&&_.hasAttribute("formaction")?r.submitter.formAction:HTMLFormElement.prototype.cloneNode.call(a).action),o=new FormData(a),t=(p=r.submitter)==null?void 0:p.getAttribute("name");t&&o.append(t,(b=(i=r.submitter)==null?void 0:i.getAttribute("value"))!=null?b:"");const c=new AbortController;let E=!1;const k=(T=await e({action:l,cancel:()=>E=!0,controller:c,data:o,form:a}))!=null?T:n;if(E)return;let h;try{const m=await fetch(l,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:o,signal:c.signal});h=Ie(await m.text())}catch(m){if((m==null?void 0:m.name)==="AbortError")return;h={type:"error",error:m}}k({action:l,data:o,form:a,update:m=>n({action:l,result:h,reset:m==null?void 0:m.reset}),result:h,get type(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get location(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get error(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")}})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",s),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",s)}}}const{document:K,window:Ue}=Ne;function ce(a,e,n){const s=a.slice();return s[7]=e[n],s}function ue(a,e,n){const s=a.slice();return s[10]=e[n],s}function fe(a,e,n){const s=a.slice();s[13]=e[n],s[7]=n;const r=s[7]===s[3];return s[14]=r,s}function de(a,e,n){var l;const s=a.slice();s[13]=e[n],s[18]=n;const r=(l=s[0].answers[s[7]])==null?void 0:l[s[18]];return s[16]=r,s}function he(a){let e,n,s,r;return{c(){e=W("input"),this.h()},l(l){e=j(l,"INPUT",{name:!0,"aria-selected":!0,class:!0}),this.h()},h(){var l,o;d(e,"name","guess"),e.disabled=n=!a[14],e.readOnly=!0,d(e,"aria-selected",s=a[14]&&a[18]===a[0].guesses[a[7]].length),e.value=r=(o=(l=a[0].guesses[a[7]])==null?void 0:l[a[18]])!=null?o:"",d(e,"class","svelte-wk2j3k"),M(e,"exact",a[16]==="x"),M(e,"close",a[16]==="c")},m(l,o){N(l,e,o)},p(l,o){var t,c;o&8&&n!==(n=!l[14])&&(e.disabled=n),o&9&&s!==(s=l[14]&&l[18]===l[0].guesses[l[7]].length)&&d(e,"aria-selected",s),o&1&&r!==(r=(c=(t=l[0].guesses[l[7]])==null?void 0:t[l[18]])!=null?c:"")&&e.value!==r&&(e.value=r),o&1&&M(e,"exact",l[16]==="x"),o&1&&M(e,"close",l[16]==="c")},d(l){l&&g(e)}}}function _e(a){let e,n,s=Array(5),r=[];for(let l=0;l<s.length;l+=1)r[l]=he(de(a,s,l));return{c(){e=W("div");for(let l=0;l<r.length;l+=1)r[l].c();n=O(),this.h()},l(l){e=j(l,"DIV",{class:!0});var o=G(e);for(let t=0;t<r.length;t+=1)r[t].l(o);n=P(o),o.forEach(g),this.h()},h(){d(e,"class","row svelte-wk2j3k"),M(e,"current",a[14])},m(l,o){N(l,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);w(e,n)},p(l,o){if(o&9){s=Array(5);let t;for(t=0;t<s.length;t+=1){const c=de(l,s,t);r[t]?r[t].p(c,o):(r[t]=he(c),r[t].c(),r[t].m(e,n))}for(;t<r.length;t+=1)r[t].d(1);r.length=s.length}o&8&&M(e,"current",l[14])},d(l){l&&g(e),q(r,l)}}}function Ve(a){let e,n,s,r,l,o,t,c,E,v,k=["qwertyuiop","asdfghjkl","zxcvbnm"],h=[];for(let _=0;_<3;_+=1)h[_]=me(ce(a,k,_));return{c(){e=W("div"),n=W("button"),s=X("enter"),l=O(),o=W("button"),t=X("back"),c=O();for(let _=0;_<3;_+=1)h[_].c();this.h()},l(_){e=j(_,"DIV",{class:!0});var p=G(e);n=j(p,"BUTTON",{"data-key":!0,"aria-selected":!0,class:!0});var i=G(n);s=D(i,"enter"),i.forEach(g),l=P(p),o=j(p,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0});var b=G(o);t=D(b,"back"),b.forEach(g),c=P(p);for(let T=0;T<3;T+=1)h[T].l(p);p.forEach(g),this.h()},h(){d(n,"data-key","enter"),d(n,"aria-selected",a[5]),n.disabled=r=!a[5],d(n,"class","svelte-wk2j3k"),d(o,"data-key","backspace"),d(o,"formaction","?/update"),d(o,"name","key"),o.value="backspace",d(o,"class","svelte-wk2j3k"),d(e,"class","keyboard svelte-wk2j3k")},m(_,p){N(_,e,p),w(e,n),w(n,s),w(e,l),w(e,o),w(o,t),w(e,c);for(let i=0;i<3;i+=1)h[i].m(e,null);E||(v=$(o,"click",ke(a[6])),E=!0)},p(_,p){if(p&32&&d(n,"aria-selected",_[5]),p&32&&r!==(r=!_[5])&&(n.disabled=r),p&77){k=["qwertyuiop","asdfghjkl","zxcvbnm"];let i;for(i=0;i<3;i+=1){const b=ce(_,k,i);h[i]?h[i].p(b,p):(h[i]=me(b),h[i].c(),h[i].m(e,null))}for(;i<3;i+=1)h[i].d(1)}},d(_){_&&g(e),q(h,_),E=!1,v()}}}function qe(a){let e,n,s=a[4]?"you won :)":"game over :(",r,l,o=!a[4]&&a[0].answer&&ge(a);return{c(){o&&o.c(),e=O(),n=W("button"),r=X(s),l=X(" play again?"),this.h()},l(t){o&&o.l(t),e=P(t),n=j(t,"BUTTON",{"data-key":!0,"aria-selected":!0,class:!0,formaction:!0});var c=G(n);r=D(c,s),l=D(c," play again?"),c.forEach(g),this.h()},h(){d(n,"data-key","enter"),d(n,"aria-selected","true"),d(n,"class","restart svelte-wk2j3k"),d(n,"formaction","?/restart")},m(t,c){o&&o.m(t,c),N(t,e,c),N(t,n,c),w(n,r),w(n,l)},p(t,c){!t[4]&&t[0].answer?o?o.p(t,c):(o=ge(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),c&16&&s!==(s=t[4]?"you won :)":"game over :(")&&ye(r,s)},d(t){o&&o.d(t),t&&g(e),t&&g(n)}}}function pe(a){let e,n,s,r,l,o;return{c(){e=W("button"),n=X(a[10]),this.h()},l(t){e=j(t,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0});var c=G(e);n=D(c,a[10]),c.forEach(g),this.h()},h(){d(e,"data-key",a[10]),d(e,"class",s=ae(a[2][a[10]])+" svelte-wk2j3k"),e.disabled=r=a[0].guesses[a[3]].length===5,d(e,"formaction","?/update"),d(e,"name","key"),e.value=a[10]},m(t,c){N(t,e,c),w(e,n),l||(o=$(e,"click",ke(a[6])),l=!0)},p(t,c){c&4&&s!==(s=ae(t[2][t[10]])+" svelte-wk2j3k")&&d(e,"class",s),c&9&&r!==(r=t[0].guesses[t[3]].length===5)&&(e.disabled=r)},d(t){t&&g(e),l=!1,o()}}}function me(a){let e,n,s=a[7],r=[];for(let l=0;l<s.length;l+=1)r[l]=pe(ue(a,s,l));return{c(){e=W("div");for(let l=0;l<r.length;l+=1)r[l].c();n=O(),this.h()},l(l){e=j(l,"DIV",{class:!0});var o=G(e);for(let t=0;t<r.length;t+=1)r[t].l(o);n=P(o),o.forEach(g),this.h()},h(){d(e,"class","row svelte-wk2j3k")},m(l,o){N(l,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);w(e,n)},p(l,o){if(o&77){s=l[7];let t;for(t=0;t<s.length;t+=1){const c=ue(l,s,t);r[t]?r[t].p(c,o):(r[t]=pe(c),r[t].c(),r[t].m(e,n))}for(;t<r.length;t+=1)r[t].d(1);r.length=s.length}},d(l){l&&g(e),q(r,l)}}}function ge(a){let e,n,s=a[0].answer+"",r,l;return{c(){e=W("p"),n=X('the answer was "'),r=X(s),l=X('"')},l(o){e=j(o,"P",{});var t=G(e);n=D(t,'the answer was "'),r=D(t,s),l=D(t,'"'),t.forEach(g)},m(o,t){N(o,e,t),w(e,n),w(e,r),w(e,l)},p(o,t){t&1&&s!==(s=o[0].answer+"")&&ye(r,s)},d(o){o&&g(e)}}}function be(a){let e,n,s;return{c(){e=W("div"),this.h()},l(r){e=j(r,"DIV",{style:!0}),G(e).forEach(g),this.h()},h(){x(e,"position","absolute"),x(e,"left","50%"),x(e,"top","30%")},m(r,l){N(r,e,l),n||(s=ve(Me.call(null,e,{force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),n=!0)},p:R,d(r){r&&g(e),n=!1,s()}}}function xe(a){let e,n,s,r,l,o,t,c,E,v,k,h,_,p=Array(6),i=[];for(let u=0;u<p.length;u+=1)i[u]=_e(fe(a,p,u));function b(u,y){return u[4]||u[0].answers.length>=6?qe:Ve}let T=b(a),m=T(a),f=a[4]&&be();return{c(){e=W("meta"),n=O(),s=W("form"),r=W("a"),l=X("How to play"),o=O(),t=W("div");for(let u=0;u<i.length;u+=1)i[u].c();c=O(),E=W("div"),m.c(),v=O(),f&&f.c(),k=te(),this.h()},l(u){const y=je("svelte-18lvto8",K.head);e=j(y,"META",{name:!0,content:!0}),y.forEach(g),n=P(u),s=j(u,"FORM",{method:!0,action:!0,class:!0});var A=G(s);r=j(A,"A",{class:!0,href:!0});var S=G(r);l=D(S,"How to play"),S.forEach(g),o=P(A),t=j(A,"DIV",{class:!0});var z=G(t);for(let C=0;C<i.length;C+=1)i[C].l(z);z.forEach(g),c=P(A),E=j(A,"DIV",{class:!0});var B=G(E);m.l(B),B.forEach(g),A.forEach(g),v=P(u),f&&f.l(u),k=te(),this.h()},h(){var u;K.title="Sverdle",d(e,"name","description"),d(e,"content","A Wordle clone written in SvelteKit"),d(r,"class","how-to-play svelte-wk2j3k"),d(r,"href","/sverdle/how-to-play"),d(t,"class","grid svelte-wk2j3k"),M(t,"playing",!a[4]),M(t,"bad-guess",(u=a[1])==null?void 0:u.badGuess),d(E,"class","controls svelte-wk2j3k"),d(s,"method","POST"),d(s,"action","?/enter"),d(s,"class","svelte-wk2j3k")},m(u,y){w(K.head,e),N(u,n,y),N(u,s,y),w(s,r),w(r,l),w(s,o),w(s,t);for(let A=0;A<i.length;A+=1)i[A].m(t,null);w(s,c),w(s,E),m.m(E,null),N(u,v,y),f&&f.m(u,y),N(u,k,y),h||(_=[$(Ue,"keydown",Je),ve(Be.call(null,s,Ke))],h=!0)},p(u,[y]){var A;if(y&9){p=Array(6);let S;for(S=0;S<p.length;S+=1){const z=fe(u,p,S);i[S]?i[S].p(z,y):(i[S]=_e(z),i[S].c(),i[S].m(t,null))}for(;S<i.length;S+=1)i[S].d(1);i.length=p.length}y&16&&M(t,"playing",!u[4]),y&2&&M(t,"bad-guess",(A=u[1])==null?void 0:A.badGuess),T===(T=b(u))&&m?m.p(u,y):(m.d(1),m=T(u),m&&(m.c(),m.m(E,null))),u[4]?f?f.p(u,y):(f=be(),f.c(),f.m(k.parentNode,k)):f&&(f.d(1),f=null)},i:R,o:R,d(u){g(e),u&&g(n),u&&g(s),q(i,u),m.d(),u&&g(v),f&&f.d(u),u&&g(k),h=!1,Ge(_)}}}function Je(a){var e;a.metaKey||(e=document.querySelector(`[data-key="${a.key}" i]`))==null||e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}const Ke=()=>({update:a})=>{a({reset:!1})};function Re(a,e,n){let s,r,l,{data:o}=e,{form:t}=e,c;function E(v){const k=o.guesses[r],h=v.target.getAttribute("data-key");h==="backspace"?(n(0,o.guesses[r]=k.slice(0,-1),o),t!=null&&t.badGuess&&n(1,t.badGuess=!1,t)):k.length<5&&n(0,o.guesses[r]+=h,o)}return a.$$set=v=>{"data"in v&&n(0,o=v.data),"form"in v&&n(1,t=v.form)},a.$$.update=()=>{var v;a.$$.dirty&1&&n(4,s=o.answers.at(-1)==="xxxxx"),a.$$.dirty&17&&n(3,r=s?-1:o.answers.length),a.$$.dirty&13&&(n(2,c={}),o.answers.forEach((k,h)=>{const _=o.guesses[h];for(let p=0;p<5;p+=1){const i=_[p];k[p]==="x"?n(2,c[i]="exact",c):c[i]||n(2,c[i]=k[p]==="c"?"close":"missing",c)}})),a.$$.dirty&9&&n(5,l=((v=o.guesses[r])==null?void 0:v.length)===5)},[o,t,c,r,s,l,E]}class $e extends Se{constructor(e){super(),Te(this,e,Re,xe,We,{data:0,form:1})}}export{$e as default};
